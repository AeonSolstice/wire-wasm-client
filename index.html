<!doctype html><meta content="width=device-width,initial-scale=1" name=viewport><title>wire</title><style>:root{--border-radius:10px}*{box-sizing:border-box;color:#fff;font-family:Arial,Helvetica,sans-serif;margin:0;user-select:none;-webkit-user-drag:none}:focus{outline:none}button{border:none;&:not(:disabled):not(.selected){cursor:pointer}}.center{left:50%;top:50%;translate:-50% -50%}#main-menu,body,html{height:100%;width:100%}body{background-color:#191919}#canvas{display:none;position:absolute;top:0}#main-menu>*{float:left}#title{font-size:50px;font-weight:700;height:60px;left:50%;line-height:60px;position:absolute;text-align:center;translate:-50% 0}#header{height:30px;width:100%}#main{height:calc(100% - 60px);width:100%}#connection-status{bottom:0;font-size:20px;height:30px;left:50%;line-height:30px;padding:0 5px;position:absolute;text-align:center;translate:-50% 0;width:200px}#controls{background-color:#424242;border-radius:var(--border-radius);height:auto;padding:20px;position:relative;width:fit-content}#gun-select-container{height:100px;margin-bottom:20px}.btn-gun-select{background-color:#eee;border-radius:var(--border-radius);float:left;height:100%;padding:0;transition:rotate .5s,filter .5s,scale .5s,background-color .5s;width:100px;&:not(:last-child){margin-right:10px}&.selected{background-color:#4caf50;rotate:-90deg;>img{filter:invert(1)}}&:not(:disabled):not(.selected){background-color:#9e9e9e;&:focus{border:2px solid #fff;rotate:-90deg;scale:1.1;>img{margin:-12px}}&:hover{background-color:#bdbdbd;rotate:-90deg;scale:1.1}&:active{background-color:#757575}}>img{margin:-10px;transition:inherit;width:120px}&:disabled>img{filter:opacity(50%)}}#btn-spawn{background-color:#80cbc4;border-radius:var(--border-radius);font-size:24px;height:40px;left:50%;position:relative;translate:-50%;width:200px;&:not(:disabled){background-color:#009688;&:focus{border:2px solid #fff}&:hover{background-color:#26a69a}&:active{background-color:#00897b}}}#footer{height:30px;width:100%}#discord-link{float:left}#discord-link,#version{background-color:#424242;font-size:18px;height:100%;line-height:30px;padding:0 5px;text-decoration:none}#version{float:right}</style><canvas id=canvas></canvas><p id=connection-status>Loading<div id=main-menu><p id=title>wire<div id=header></div><div id=main><div id=controls class=center><div id=gun-select-container><button class="btn-gun-select selected" data-gun=0 tabindex=-1><img alt=Pistol src=img/icons/pistol.png title=Pistol></button> <button class=btn-gun-select data-gun=1><img alt=SMG src=img/icons/smg.png title=SMG></button> <button class=btn-gun-select data-gun=2><img alt=Shotgun src=img/icons/shotgun.png title=Shotgun></button> <button class=btn-gun-select data-gun=3><img alt=Assault src=img/icons/assault.png title=Assault></button> <button class=btn-gun-select data-gun=4><img alt=Sniper src=img/icons/sniper.png title=Sniper></button> <button class=btn-gun-select data-gun=5><img alt=LMG src=img/icons/lmg.png title=LMG></button></div><button disabled id=btn-spawn>Spawn</button></div></div><div id=footer><a href=https://discord.gg/sabhyHueQf id=discord-link>Discord</a> <a href=changelog.txt id=version title=dev@bc8cf7>0.0.5</a></div></div><script type=module>var n=Object.defineProperty,e={};((e,t)=>{for(var o in t)n(e,o,{get:t[o],enumerable:1})})(e,{arc:()=>T,beginPath:()=>d,clearRect:()=>x,closePath:()=>g,create:()=>s,destroy:()=>f,drawImage:()=>U,fill:()=>b,fillRect:()=>S,fillStyle:()=>p,fillText:()=>R,font:()=>W,globalAlpha:()=>v,lineTo:()=>D,lineWidth:()=>k,moveTo:()=>I,rect:()=>M,restore:()=>m,save:()=>l,scale:()=>h,t:()=>r,o:()=>a,stroke:()=>w,strokeRect:()=>F,strokeStyle:()=>y,textAlign:()=>P,textBaseline:()=>C,translate:()=>A});var t,o,c=new Map,i=new TextDecoder,u=0;function a(n){t=new Uint8Array(n.buffer)}function r(n){o=n}function s(n){const e=document.getElementsByTagName("canvas")[n];return e?(u++,c.set(u,e.getContext("2d")),u):0}function f(n){c.delete(n)}function l(n){c.get(n).save()}function m(n){c.get(n).restore()}function d(n){c.get(n).beginPath()}function g(n){c.get(n).closePath()}function w(n){c.get(n).stroke()}function b(n){c.get(n).fill()}function y(n,e,o){c.get(n).strokeStyle=i.decode(t.subarray(e,e+o))}function p(n,e,o){c.get(n).fillStyle=i.decode(t.subarray(e,e+o))}function k(n,e){c.get(n).lineWidth=e}function v(n,e){c.get(n).globalAlpha=e}function A(n,e,t){c.get(n).translate(e,t)}function h(n,e,t){c.get(n).scale(e,t)}function x(n,e,t,o,i){c.get(n).clearRect(e,t,o,i)}function F(n,e,t,o,i){c.get(n).strokeRect(e,t,o,i)}function S(n,e,t,o,i){c.get(n).fillRect(e,t,o,i)}function D(n,e,t){c.get(n).lineTo(e,t)}function I(n,e,t){c.get(n).moveTo(e,t)}function M(n,e,t,o,i){c.get(n).rect(e,t,o,i)}function T(n,e,t,o,i,u){c.get(n).arc(e,t,o,i,u)}function W(n,e,o){c.get(n).font=i.decode(t.subarray(e,e+o))}function P(n,e,o){c.get(n).textAlign=i.decode(t.subarray(e,e+o))}function C(n,e,o){c.get(n).textBaseline=i.decode(t.subarray(e,e+o))}function R(n,e,o,u,a){c.get(n).fillText(i.decode(t.subarray(e,e+o)),u,a)}function U(n,e,t,i,u,a){c.get(n).drawImage(o[e],t,i,u,a)}var j,q=(n,e=document)=>"string"==typeof n?e.querySelector(n):n,z=(n,e=document)=>"string"==typeof n?e.querySelectorAll(n):n,B=(n,e,t)=>q(n).addEventListener(t?e:e.name,t||e),E=(n,e="block")=>q(n).style.display=e,G=n=>q(n).style.display="none",O=new TextEncoder,X=new WebAssembly.Memory({initial:32});function Y(){j=new Uint8Array(X.buffer),X.buffer,a(X)}function $(n,e){j.set(O.encode(e),n)}var H,J,K,L={i:{memory:X,u:Y},Math,l:e,console:{log(n,e){},error(n,e){}},m:{send(n,e){H.send(j.subarray(n,n+e))},p(){en=1,G(V),G(Z),E(Q),J=Date.now(),on()},k(){cancelAnimationFrame(K),en=0,_.disabled=0,tn()},v(){N.select_perk(0)},A(){}}},{instance:{exports:N}}=await WebAssembly.instantiateStreaming(fetch("g.wasm"),L),Q=q("canvas"),V=q("#main-menu"),Z=q("#connection-status"),_=(q("#controls"),q("#btn-spawn")),nn=["pistol","smg","shotgun","assault","sniper","lmg"].map((n=>{const e=new Image;return e.src=`img/icons/${n}.png`,e})),en=0;function tn(){G(Q),E(V),E(Z)}function on(){const n=Date.now(),e=(n-J)/1e3;N.render(e),J=n,K=requestAnimationFrame(on)}function cn(){Q.width=window.innerWidth,Q.height=window.innerHeight,N.set_canvas_size(Q.width,Q.height)}B(_,"click",(function(){H.readyState===WebSocket.OPEN&&(_.disabled=1,N.spawn(+q(".btn-gun-select.selected").dataset.gun))})),B(document,"keydown",(function({code:n,repeat:e}){!e&&en&&($(N.KEY_CODE_BUF,n),N.on_keydown(n.length))})),B(document,"keyup",(function({code:n}){en&&($(N.KEY_CODE_BUF,n),N.on_keyup(n.length))})),B(document,"mousedown",(function(){en&&N.on_mousedown()})),B(document,"mouseup",(function(){en&&N.on_mouseup()})),B(document,"mousemove",(function({clientX:n,clientY:e}){en&&N.on_mousemove(n,e)})),B(window,"resize",cn),z(".btn-gun-select").forEach((n=>{B(n,"click",(()=>{z(".btn-gun-select").forEach((n=>{n.classList.remove("selected"),n.removeAttribute("tabIndex")})),n.classList.add("selected"),n.setAttribute("tabIndex",-1)}))})),Y(),r(nn),N.setup(),cn(),(H=new WebSocket("wss://wire-epyi.onrender.com")).binaryType="arraybuffer",B(H,"open",(function(){Z.innerText="Connected",Z.style.backgroundColor="#4CAF50",_.disabled=0})),B(H,"message",(function({data:n}){"string"!=typeof n&&(j.set(new Uint8Array(n),N.MSG_BUF),N.on_message(n.byteLength))})),B(H,"error",(function(){})),B(H,"close",(function({code:n,reason:e}){Z.innerText="Disconnected",Z.style.backgroundColor="#F44336",_.disabled=1,en&&(en=0,tn(),cancelAnimationFrame(K))})),Z.innerText="Connecting",Z.style.backgroundColor="#2196F3",E(Z);</script>